name: Build .NET Project
description: Restaura, cachea y compila proyectos .NET
inputs:
  configuration:
    description: Build configuration (Debug/Release)
    required: false
    default: Release

runs:
  using: composite
  steps:
    - name: ðŸ’¾ Cache de paquetes NuGet
      uses: actions/cache@v4
      with:
        path: ~/.nuget/packages
        key: nuget-${{ runner.os }}-${{ hashFiles('**/*.csproj') }}

    - name: ðŸ’¾ Cache bin/obj
      uses: actions/cache@v4
      with:
        path: |
          **/bin/
          **/obj/
        key: build-${{ runner.os }}-${{ github.sha }}
        restore-keys: |
          build-${{ runner.os }}-

    - name: ðŸ“¦ Restaurar dependencias
      shell: bash
      run: dotnet restore

    - name: ðŸ”§ Compilar soluciÃ³n
      shell: bash
      run: dotnet build --no-restore --configuration ${{ inputs.configuration }}
